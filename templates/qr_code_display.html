{% extends "base.html" %}

{% block title %}{{ guest.full_name }} - QR Code{% endblock %}

{% block navbar %}{% endblock %}
{% block footer %}{% endblock %}

{% block content %}
<div class="qr-display-container page-content d-flex align-items-center justify-content-center" style="min-height: 100vh;">
    <div style="max-width: 500px; width: 100%; text-align: center; padding: 20px; margin: 0 auto;">
        <h2 class="stagger-in" style="animation-delay: 0.05s; font-family: var(--font-display); color: var(--text-heading);">{{ guest.full_name }}</h2>

        {% if guest.qr_code_path %}
        <div class="qr-confirmation-card mb-4 stagger-in" style="animation-delay: 0.1s;">
            <p>Scan to view answers</p>
            <div style="display: flex; justify-content: center;">
                <img src="/static/{{ guest.qr_code_path }}" alt="QR Code for {{ guest.full_name }}"
                     style="max-width: 250px; width: 100%; border-radius: 10px;">
            </div>
        </div>
        {% else %}
        <div class="alert alert-warning stagger-in" style="animation-delay: 0.1s;">
            <p class="mb-0">QR code not available for this guest.</p>
        </div>
        {% endif %}

        <div class="d-grid gap-3 stagger-in" style="animation-delay: 0.15s; max-width: 300px; margin: 0 auto;">
            <button type="button" class="btn btn-primary btn-lg" onclick="goBack()">
                Back to Guest List
            </button>
            <button type="button" class="btn btn-outline-secondary" onclick="goHome()">
                Return to Home
            </button>
        </div>
    </div>
</div>

<script>
function goBack() {
    document.querySelector('.page-content').classList.add('fade-out');
    setTimeout(() => {
        window.location.href = '/qr-codes';
    }, 300);
}

function goHome() {
    document.querySelector('.page-content').classList.add('fade-out');
    setTimeout(() => {
        window.location.href = '/';
    }, 300);
}
</script>
{% endblock %}
